define(["jquery"],function(t){var s={vars:{failClass:"fail-a11y-color"},init:function(){this.checkContrast()},rgbaToHex:function(t){var s,n=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return s=n&&4===n.length?"#"+("0"+parseInt(n[1],10).toString(16)).slice(-2)+("0"+parseInt(n[2],10).toString(16)).slice(-2)+("0"+parseInt(n[3],10).toString(16)).slice(-2):"",s=s.replace("#","")},checkContrast:function(){var s,n,i=this;t(".example-color").each(function(){s=i.getL(i.rgbaToHex(t(this).css("backgroundColor"))),n=i.getL(i.rgbaToHex(t(this).find(".color-class").css("color")));var r=(Math.max(s,n)+.05)/(Math.min(s,n)+.05),a=[4.5,3];r<a[0]&&i.applyHighlighting(t(this)),r<a[1]})},getL:function(t){var s,n,i,r,a=this,e=!1;return 3==t.length?(s=a.getsRGB(t.substring(0,1)+t.substring(0,1)),n=a.getsRGB(t.substring(1,2)+t.substring(1,2)),i=a.getsRGB(t.substring(2,3)+t.substring(2,3)),e=!0):6==t.length?(s=a.getsRGB(t.substring(0,2)),n=a.getsRGB(t.substring(2,4)),i=a.getsRGB(t.substring(4,6)),e=!0):e=!1,e===!0?r=.2126*s+.7152*n+.0722*i:!1},getsRGB:function(t){var s=this;return t=s.getRGB(t),t!==!1?(t/=255,t=.03928>=t?t/12.92:Math.pow((t+.055)/1.055,2.4)):!1},getRGB:function(t){var s;try{s=parseInt(t,16)}catch(n){s=!1}return s},applyHighlighting:function(s){var n=this;t(s).addClass(n.vars.failClass)}};s.init()});